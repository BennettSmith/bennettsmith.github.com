
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>iDevelopSoftware</title>
  <meta name="author" content="Bennett Smith">

  
  <meta name="description" content="ere are a couple scripts that I use to automatically backup a MySQL database on a Windows 2003 Server system. The first script is called getdatetime. &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://blog.idevelopsoftware.com/blog/page/10/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="iDevelopSoftware" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

<link href='http://fonts.googleapis.com/css?family=Oswald:300,400,700' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Archivo+Narrow:400,400italic,700,700italic' rel='stylesheet' type='text/css'>

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-38083118-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">iDevelopSoftware</a></h1>
  
    <h2>Simplicity and Clarity by Design</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:blog.idevelopsoftware.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/resources/">Resources</a></li>
  <li><a href="/about/">About</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2004/12/backup-mysql-database-on-windows-server-2003/">Backup MySQL Database on Windows Server 2003</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2004-12-04T08:00:00-08:00" pubdate data-updated="true">Dec 4<span>th</span>, 2004</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>ere are a couple scripts that I use to automatically backup a MySQL database on a Windows 2003 Server system.</p>

<p>The first script is called getdatetime.cmd. It is a reusable script to get the current date/time in some environment variables.</p>

<pre>@echo off

rem *******************************************************************
rem
rem Set environment variables with date/time information.
rem
rem DT_MONTH .................... Two digit month
rem DT_DAY ...................... Two digit day
rem DT_YEAR ..................... Four digit year
rem DT_HOUR ..................... Two digit hour
rem DT_MINUTE ................... Two digit minute
rem DT_SECOND ................... Two digit second
rem DT_RFC ...................... YYYYMMDDTHHMMSS
rem
rem *******************************************************************

rem Grab date and time values for conversion.

SET _CUR_DATE=%DATE%
SET _CUR_TIME=%TIME%

rem Convert from "Mon 10/27/2003" to individual parts by using a DOS FOR loop.

FOR /F "tokens=1-4 delims=/.- " %%a IN ("%_CUR_DATE%") DO SET DT_MONTH=%%b
FOR /F "tokens=1-4 delims=/.- " %%a IN ("%_CUR_DATE%") DO SET DT_DAY=%%c
FOR /F "tokens=1-4 delims=/.- " %%a IN ("%_CUR_DATE%") DO SET DT_YEAR=%%d

rem Convert from "11:40:12.82" to individual parts by using a DOS FOR loop.

FOR /F "tokens=1-4 delims=:." %%a IN ("%_CUR_TIME%") DO SET DT_HOUR=%%a
FOR /F "tokens=1-4 delims=:." %%a IN ("%_CUR_TIME%") DO SET DT_MINUTE=%%b
FOR /F "tokens=1-4 delims=:." %%a IN ("%_CUR_TIME%") DO SET DT_SECOND=%%c

SET DT_RFC=%YEAR%%MONTH%%DAY%T%HOUR%%MINUTE%%SECOND%
</pre>


<p>The second script does the actual work of backing up the database. It references the getdatetime.cmd script. Make sure you save both scripts in the same directory. I call this script nightly-backup.cmd, but you can call it anything you wish.</p>

<pre>@echo off
rem
rem Perform a backup of the MySQL database called mtblog.  This
rem is the database with the Movabletype web log data in it.
rem

rem Get date/time values
call GetDateTime.cmd
SET YEAR=%DT_YEAR%
SET MONTH=%DT_MONTH%
SET DAY=%DT_DAY%
SET HOUR=%DT_HOUR%
SET MINUTE=%DT_MINUTE%
SET SECOND=%DT_SECOND%

rem Figure out what the filename should be for this backup.
SET BACKUP_FILE=C:\MT-3.11-full-en_us\db-backups\mtblog-backup-%YEAR%%MONTH%%DAY%T%HOUR%%MINUTE%%SECOND%.sql

rem Perform the backup.
c:\mysql\bin\mysqldump --host=localhost --password=password --user=root mtblog &gt; %BACKUP_FILE%
</pre>


<p>Don’t forget to change the host, password, and user information on the last line of the script. You may also need to change the path to the mysqldump program if it is not under c:\mysql\bin on your system.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2004/07/environment-variables-provided-by-windows-operating-system/">Environment Variables Provided by Windows Operating System</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2004-07-23T08:00:00-07:00" pubdate data-updated="true">Jul 23<span>rd</span>, 2004</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Microsoft assigns a type to each environment variable that is part of the environment block of a process. The possible types are System, User, Volatile and Process.</p>

<p>System
:   An environment variable that contains the same value for all processes running on the system, regardless of which user the process runs as. These are shared or global environment variables, and are defined in the system registry under the HKEY_LOCAL_MACHINE hive.</p>

<p>User
:   An environment variable that is specified for a particular user on the system. These are defined in the system registry as well, but are maintained under the HKEY_CURRENT_USER hive.</p>

<p>Volatile
:   An environment variable that is not persistent, and has a value that was assigned by the operating system based on some property of the system.</p>

<p>Process
:   An environment variable that is set only for a particular process. Often this would be set in the environment block by the parent process at the time the process is created. These are not persistent.</p>

<p>Additionally, the CMD.EXE command processor defines some dynamic environment variables that are assigned new values after each command is evaluated. These variables are volatile.</p>

<p>These tables were created by going through the on-line help for Windows 2000. I have listed all the volatile and dynamic environment variables I could find defined. There are probably more, and some of these may not be accurately documented.</p>

<table>
  <tr>
    <th colspan="2" align="center">
      Volatile Environment Variables
    </th>
  </tr>
  
  <tr>
    <th>
      Name
    </th>
    
    <th>
      Description
    </th>
  </tr>
  
  <tr>
    <td>
      ALLUSERSPROFILE
    </td>
    
    <td>
      Local – returns the location of the All Users Profile.
    </td>
  </tr>
  
  <tr>
    <td>
      APPDATA
    </td>
    
    <td>
      Local – returns the location where applications store data by default.
    </td>
  </tr>
  
  <tr>
    <td>
      COMPUTERNAME
    </td>
    
    <td>
      System – returns the name of the computer.
    </td>
  </tr>
  
  <tr>
    <td>
      HOMESHARE
    </td>
    
    <td>
      System – returns the network path to the user’s shared home directory. This variable is set based on the value of the home directory. The user’s home directory is specified in Local Users and Groups.
    </td>
  </tr>
  
  <tr>
    <td>
      LOGONSERVER
    </td>
    
    <td>
      Local – returns the name of the domain controller that validated the current logon session.
    </td>
  </tr>
  
  <tr>
    <td>
      USERDOMAIN
    </td>
    
    <td>
      Local – returns the name of the domain that contains the user’s account.
    </td>
  </tr>
  
  <tr>
    <td>
      USERNAME
    </td>
    
    <td>
      Local – returns the name of the user currently logged on.
    </td>
  </tr>
  
  <tr>
    <td>
      USERPROFILE
    </td>
    
    <td>
      Local – returns the location of the profile for the current user.
    </td>
  </tr>
  
  <tr>
    <td>
      NUMBER_OF_PROCESSORS
    </td>
    
    <td>
      Number of processors running on the machine.
    </td>
  </tr>
  
  <tr>
    <td>
      PROCESSOR_ARCHITECTURE
    </td>
    
    <td>
      Processor type of the user’s workstation.
    </td>
  </tr>
  
  <tr>
    <td>
      PROCESSOR_IDENTIFIER
    </td>
    
    <td>
      Processor ID of the user’s workstation.
    </td>
  </tr>
  
  <tr>
    <td>
      PROCESSOR_LEVE
    </td>
    
    <td>
      Processor level of the user’s workstation.
    </td>
  </tr>
  
  <tr>
    <td>
      PROCESSOR_REVISION
    </td>
    
    <td>
      Processor version of the user’s workstation.
    </td>
  </tr>
  
  <tr>
    <td>
      OS
    </td>
    
    <td>
      Operating system on the user’s workstation.
    </td>
  </tr>
  
  <tr>
    <td>
      COMSPEC
    </td>
    
    <td>
      Executable file for the command prompt (typically cmd.exe).
    </td>
  </tr>
  
  <tr>
    <td>
      HOMEDRIVE
    </td>
    
    <td>
      Primary local drive (typically the C drive).
    </td>
  </tr>
  
  <tr>
    <td>
      HOMEPATH
    </td>
    
    <td>
      Default directory for users (typically \users\default in Windows 2000).
    </td>
  </tr>
  
  <tr>
    <td>
      PATH
    </td>
    
    <td>
      PATH environment variable.
    </td>
  </tr>
  
  <tr>
    <td>
      PATHEXT
    </td>
    
    <td>
      Extensions for executable files (typically .com, .exe, .bat, or .cmd).
    </td>
  </tr>
  
  <tr>
    <td>
      PROMPT
    </td>
    
    <td>
      Command prompt (typically $P$G).
    </td>
  </tr>
  
  <tr>
    <td>
      SYSTEMDRIVE
    </td>
    
    <td>
      Local drive on which the system directory resides (typcially c:\).
    </td>
  </tr>
  
  <tr>
    <td>
      SYSTEMROOT
    </td>
    
    <td>
      System directory (for example, c:\winnt). This is the same as WINDIR.
    </td>
  </tr>
  
  <tr>
    <td>
      WINDIR
    </td>
    
    <td>
      System directory (for example, c:\winnt). This is the same as SYSTEMROOT.
    </td>
  </tr>
  
  <tr>
    <td>
      TEMP
    </td>
    
    <td>
      Directory for storing temporary files (for example, c:\temp).
    </td>
  </tr>
  
  <tr>
    <td>
      TMP
    </td>
    
    <td>
      Directory for storing temporary files (for example, c:\temp).
    </td>
  </tr>
</table>




<table>
  <tr>
    <th colspan="2" align="center">
      Dynamic Environment Variables
    </th>
  </tr>
  
  <tr>
    <th>
      Name
    </th>
    
    <th>
      Description
    </th>
  </tr>
  
  <tr>
    <td>
      CD
    </td>
    
    <td>
      Expands to the current directory.
    </td>
  </tr>
  
  <tr>
    <td>
      DATE
    </td>
    
    <td>
      Expands to the same output as typing DATE.
    </td>
  </tr>
  
  <tr>
    <td>
      TIME
    </td>
    
    <td>
      Expands to the same output as typing TIME.
    </td>
  </tr>
  
  <tr>
    <td>
      RANDOM
    </td>
    
    <td>
      Generates a random integer in the range of 0 – 32767.
    </td>
  </tr>
  
  <tr>
    <td>
      ERRORLEVEL
    </td>
    
    <td>
      Expands to the current ERRORLEVEL.
    </td>
  </tr>
  
  <tr>
    <td>
      CMDEXTVERSION</td <td>
        Expands to the current Command Processor Extensions version number.
      </td></tr> 
      
      <tr>
        <td>
          CMDCMDLINE
        </td>
        
        <td>
          Expands to the original command line that invoked the Command Processor.
        </td>
      </tr></table>



</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2004/07/path-environment-variable-limitations-in-windows/">PATH Environment Variable Limitations in Windows</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2004-07-14T08:00:00-07:00" pubdate data-updated="true">Jul 14<span>th</span>, 2004</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Environment variables are managed using the System control panel applet in Windows. This user interface leaves much to be desired, but it works. Environment variables are separated into “System” and “User” categories. All users that may login on a machine share the System environment variables. Each user has her own set of User environment variables. User environment variables take precedence over System environment variables. How this precedence rule effects variable definitions is illustrated in the following example:</p>

<p>If the variable TEMP Generally speaking, if an environment variable appears in both categories then the value associated with the User environment variable will be used.</p>

<p>The PATH environment variable controls how the operating system searches for executable (EXE) and dynamic link library (DLL) files when asked to run an application. Some applications are installed for use by all users of the system and others are installed for exclusive use of a particular user.</p>

<p>Microsoft publishes some great human factors guidelines for building Windows applications. I sure wish they would follow some of these guidelines for the Control Panel applets that are provided with Windows. If these applets had to go through the logo certification process I’m sure they would fail!</p>

<p>Take for example the environment variable editing dialog box in the System applet.</p>

<p><a href="http://www.flickr.com/photos/49807087@N00/2319758559" title="View 'EnvironmentVariables-thumb' on Flickr.com"><img src="http://farm3.static.flickr.com/2018/2319758559_8f6f8596b9_o.jpg" alt="EnvironmentVariables-thumb" border="0" width="250" height="231" /></a></p>

<p>This is a prefect example of what not to do when building a user interface. I hate editing environment variables using a one line edit box where you can’t even see the whole definition of the value. You can’t even resize the dialog box!</p>

<p>To make matters worse, there are limits imposed by the operating system that are not checked in the user interface. The PATH environment variable cannot exceed 1024 characters in length, but the user interface happily allows you to define a PATH that is way longer than this.</p>

<p>You can try this for yourself by defining a System PATH that is about 512 bytes in length and define a User PATH that is about 600 bytes long. Because the combine System+User PATH is longer than 1024 bytes the operating system decides to only use the System PATH, leaving out all your User PATH assignments.</p>

<p>A good user environment variable editor would check for this sort of thing. Since Microsoft doesn’t need to get their applications “logo certified” they can freely ignore the UI guidelines they publish. What a shame!</p>

<p>I looked into what it would take to create my own Control Panel Applet to replace this environment variable editor and it looks straight forward. Keep tuned, and maybe I’ll post an improved editor here.</p>

<p>As I dig further into this environment variable issue it seems like there is a lot of inconsistency between versions of Windows.</p>

<p>Microsoft has some <a href="http://technet.microsoft.com/en-us/library/bb490998.aspx">information</a> on the NT command prompt for Windows XP that says the maximum environment variable size is 8192 bytes and that the entire environment cannot exceed 65,536KB (though I think that is supposed to be bytes).</p>

<p>Early versions of MS-DOS had a 128 character limitation on the PATH variable. According to this <a href="http://support.microsoft.com/default.aspx?scid=kb;en-us;97595">article</a>, that limitation was removed in MS-DOS 6.0. In <a href="http://support.microsoft.com/default.aspx?scid=kb;EN-US;169171">KB169171</a> Microsoft talks about how 16-bit applications can still hang when the path exceeds 200 bytes.</p>

<p>The only place I could find that actually states that there is a 1KB limit on the combine length of the System+User path is <a href="http://support.microsoft.com/default.aspx?scid=kb;en-us;216477">here</a>. In the WORKAROUND section of this article it states that the path should “total 1 KB or less of characters”. The article is for Windows NT Server 4.0 Terminal Server Edition, but my experiments on a Windows 2000 Professional system indicate that it is still the case. I haven’t tried Windows XP or Windows Server 2003 yet to determine if the problem exists in those variants of Windows.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2004/01/introduction-to-xml/">Introduction to XML</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2004-01-15T08:00:00-08:00" pubdate data-updated="true">Jan 15<span>th</span>, 2004</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I recently taught a short seminar at UC Santa Cruz Extension to introduce students to XML and all the good things it can be used for.  The materials from the seminar are available here.</p>

<ul>
<li><a href="http://idvlpsw.files.wordpress.com/2008/03/introduction-to-xml-handout.pdf" title="Introduction to XML - Handout">Introduction to XML - Handout</a></li>
<li><a href="http://idvlpsw.files.wordpress.com/2008/03/introduction-to-xml-presentation.pdf" title="Introduction to XML - Presentation">Introduction to XML - Presentation</a><a href="http://idvlpsw.files.wordpress.com/2008/03/introduction-to-xml-presentation.pdf" title="Introduction to XML - Presentation"></a></li>
</ul>

</div>
  
  


    </article>
  
  <div class="pagination">
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/9/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
    <div style="width:195px; text-align:center;">
        <iframe  src="http://www.eventbrite.com/countdown-widget?eid=5164111998" frameborder="0" 
            height="545" width="195" marginheight="0" marginwidth="0" scrolling="no" 
            allowtransparency="true">
        </iframe>
    </div>
</section>
<section>
  <h1>About Me</h1>
  <p>My name is Bennett Smith. I’m pleased to welcome you to my site, and hope you come back often. Information about my professional experience, details on how I can help you with your projects and general ramblings about the technologies I use are published here.</p>
  <p>Feel free to surf around and see if you like what’s on my site. I have some strong opinions about software development. Comments are encouraged so please don’t be shy.</p>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/02/14/app-definition-statement-for-countem-up/">App Definition Statement for Count&#8217;em UP</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/02/10/announcing-ios-weekend-introduction-to-ios-development/">Announcing iOS Weekend - Introduction to iOS Development</a>
      </li>
    
      <li class="post">
        <a href="/2011/12/comcast-support-problems-surfboard-sbg6580-intermittent-connection-loss/">Comcast Support Problems - SURFboard SBG6580 - Intermittent Connection Loss</a>
      </li>
    
      <li class="post">
        <a href="/2011/08/capturing-airport-extreme-log-with-lion-server-syslog/">Capturing AirPort Extreme Log with Lion Server Syslog</a>
      </li>
    
      <li class="post">
        <a href="/2011/08/cookbook-snow-leopard-rvm-ruby-on-rails/">Cookbook: Snow Leopard, RVM, Ruby on Rails</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/BennettSmith">@BennettSmith</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'BennettSmith',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("BennettSmith", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/BennettSmith" class="twitter-follow-button" data-show-count="false">Follow @BennettSmith</a>
  
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Bennett Smith -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'idevelopsoftware';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>





  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
